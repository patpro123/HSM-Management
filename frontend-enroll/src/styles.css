:root{--bg:#fffdf4;--card:#ffffff;--accent:#f3c13a;--accent-strong:#ff904e;--muted:#6b5e36;--text:#1e1a12;--border:#f1e3a3}
*{box-sizing:border-box}
body{font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,'Helvetica Neue',Arial;margin:0;background:var(--bg);color:var(--text)}
.header{background:linear-gradient(135deg,var(--accent) 0%,var(--accent-strong) 100%);color:#1b1307;padding:14px 16px;font-weight:600;text-align:center;border-bottom:1px solid var(--border)}
.brand{display:flex;align-items:center;gap:10px}
.brand-logo{height:42px;width:auto;border-radius:4px;background:#fff;padding:4px;box-shadow:0 4px 10px rgba(0,0,0,0.08)}
.brand-text{font-weight:700;letter-spacing:0.3px}
.nav{display:flex;gap:12px}
.nav a{color:#2b1e0c;text-decoration:none;font-weight:600;padding:8px 10px;border-radius:8px;transition:background 0.2s ease}
.nav a:hover{background:rgba(0,0,0,0.05)}
.container{max-width:720px;margin:24px auto;padding:16px}
.qa,.summary{background:var(--card);border-radius:12px;padding:16px;box-shadow:0 6px 16px rgba(61,45,12,0.08);border:1px solid var(--border)}
.q-label{display:block;font-weight:600;margin-bottom:8px}
.input{width:100%;padding:12px;border-radius:8px;border:1px solid #e6e3ce;background:#fffaf0;color:var(--text)}
.name-row{display:grid;grid-template-columns:1fr 1fr;gap:8px} 
.multiselect-list{display:flex;flex-direction:column;gap:8px;margin-top:8px}
.multiselect-list .ms-item{display:flex;align-items:center;gap:8px;padding:6px;border-radius:6px;border:1px solid #f2e6c1;background:#fffbf0}
.stream-card{background:#fff;border-radius:8px;padding:12px;margin-top:12px;border:1px solid #f2e6c1}
.stream-card-header{font-weight:600;margin-bottom:10px;display:flex;justify-content:space-between;align-items:center}
.card-title{font-weight:600}
.stream-card-body{padding:6px 0}
.btn.small{padding:6px 10px;font-size:13px;border-radius:6px}
.copy-btn{background:#fff4cf;border:1px solid #f3c13a;color:#7a4b0d}
.hint{color:var(--muted);font-size:14px;padding:8px}

.actions{display:flex;gap:8px;margin-top:12px}
.btn{flex:1;padding:10px;border-radius:8px;border:1px solid #e8d9ad;background:#fffaf0;color:var(--text);font-weight:600}
.btn.primary{background:var(--accent-strong);color:#1b1307;border-color:var(--accent-strong);box-shadow:0 8px 20px rgba(255,144,78,0.25)}
.progress{margin-top:12px;color:var(--muted);font-size:13px}
.loading{margin-top:12px;color:var(--accent-strong)}
.error-banner{margin-top:8px;padding:10px;border-radius:8px;background:#fee2e2;color:#7f1d1d;border:1px solid #fecaca;display:flex;justify-content:space-between;align-items:center}
.error-banner .dismiss{background:transparent;border:none;font-size:16px;line-height:1;cursor:pointer}
.summary ul{list-style:none;padding-left:0}
/* Student Directory & Cards */
.students-container{padding:16px}
.students-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px;gap:8px}
.students-header h2{margin:0;font-size:24px}
.header-actions{display:flex;gap:8px;align-items:center}
.view-toggle{display:flex;gap:2px;background:#f5f2eb;border-radius:8px;padding:2px;border:1px solid var(--border)}
.view-btn{background:transparent;border:none;padding:8px 12px;border-radius:6px;font-size:18px;cursor:pointer;color:var(--muted);transition:all 0.2s ease}
.view-btn:hover{color:var(--text)}
.view-btn.active{background:var(--accent);color:#1b1307;box-shadow:0 2px 6px rgba(243,193,58,0.3)}
.refresh-btn,.filter-toggle-btn{background:var(--accent);color:#1b1307;border:none;border-radius:8px;padding:8px 12px;font-weight:600;cursor:pointer;transition:background 0.2s ease}
.refresh-btn:hover,.filter-toggle-btn:hover{background:var(--accent-strong)}
.filter-toggle-btn{background:#f5f2eb;color:var(--text);border:1px solid var(--border)}

.search-bar{position:relative;margin-bottom:16px}
.search-input{width:100%;padding:12px 40px 12px 16px;border-radius:10px;border:1px solid var(--border);background:#fffbf0;font-size:15px;color:var(--text)}
.search-input:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 3px rgba(243,193,58,0.1)}
.clear-search-btn{position:absolute;right:12px;top:50%;transform:translateY(-50%);background:transparent;border:none;font-size:18px;cursor:pointer;color:var(--muted);padding:4px 8px}
.clear-search-btn:hover{color:var(--text)}

.filters-panel{background:#fffbf0;border:1px solid var(--border);border-radius:10px;padding:16px;margin-bottom:16px;display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:12px;align-items:end}
.filter-group{display:flex;flex-direction:column;gap:6px}
.filter-group label{font-size:13px;font-weight:600;color:var(--muted)}
.filter-group select{padding:8px 12px;border-radius:8px;border:1px solid var(--border);background:#fff;font-size:14px;color:var(--text);cursor:pointer}
.filter-group select:focus{outline:none;border-color:var(--accent)}
.clear-filters-btn{background:transparent;border:1px solid var(--accent-strong);color:var(--accent-strong);padding:8px 12px;border-radius:8px;font-weight:600;cursor:pointer;white-space:nowrap}
.clear-filters-btn:hover{background:var(--accent-strong);color:#1b1307}

.results-count{font-size:14px;color:var(--muted);margin-bottom:16px;font-weight:600}
.empty-state{text-align:center;padding:40px 20px;color:var(--muted);font-size:16px}

.students-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:16px;margin-top:20px}
.student-card{background:var(--card);border-radius:12px;overflow:hidden;box-shadow:0 6px 16px rgba(61,45,12,0.08);border:1px solid var(--border);transition:transform 0.2s ease,box-shadow 0.2s ease;display:flex;flex-direction:column}
.student-card:hover{transform:translateY(-2px);box-shadow:0 10px 24px rgba(61,45,12,0.12)}

.card-image-container{position:relative;width:100%;aspect-ratio:1;background:#f5f2eb;overflow:hidden}
.student-image{width:100%;height:100%;object-fit:cover}
.student-image-placeholder{width:100%;height:100%;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#f9f6f0 0%,#f0e6d2 100%);font-size:60px}
.edit-image-btn{position:absolute;bottom:8px;right:8px;background:var(--accent-strong);border:none;border-radius:50%;width:44px;height:44px;font-size:20px;cursor:pointer;box-shadow:0 4px 10px rgba(255,144,78,0.25);transition:transform 0.2s ease}
.edit-image-btn:hover{transform:scale(1.1)}

.card-body{padding:16px;flex:1;display:flex;flex-direction:column}
.student-name{margin:0 0 12px 0;font-size:18px;color:var(--text)}
.student-meta{font-size:13px;line-height:1.6;color:var(--muted);margin-bottom:12px}
.student-meta p{margin:4px 0}

.enrollment-info{background:#fffbf0;border-radius:8px;padding:12px;margin-bottom:12px}
.enrollment-info p{margin:4px 0;font-size:13px}
.classes-badge{background:var(--accent);color:#2b1e0c;padding:2px 8px;border-radius:4px;font-weight:600;font-size:14px}
.status-badge{padding:4px 10px;border-radius:6px;font-size:12px;font-weight:600;text-transform:uppercase;letter-spacing:0.5px}
.status-badge.active{background:#d1f3d1;color:#1a4d1a}
.status-badge.paused{background:#fff3cd;color:#7a4b0d}
.status-badge.completed{background:#e8d5e8;color:#4a2e4a}

.batches-list{font-size:12px}
.batches-list p{margin:8px 0 6px 0;font-weight:600}
.batches-list ul{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:4px}
.batches-list li{background:#f5f2eb;padding:6px 8px;border-radius:4px;display:flex;justify-content:space-between;align-items:center;gap:8px}
.batch-instrument{font-weight:600;color:var(--text)}
.batch-time{color:var(--muted);font-size:11px}

/* Modal */
.modal-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.5);display:flex;align-items:center;justify-content:center;z-index:1000}
.modal{background:var(--card);border-radius:12px;padding:24px;max-width:400px;width:90%;box-shadow:0 20px 60px rgba(0,0,0,0.3)}
.modal h3{margin-top:0;color:var(--text)}

.image-upload-section{margin:20px 0}
.upload-area{border:2px dashed var(--border);border-radius:10px;padding:40px 20px;text-align:center;background:#fffbf0;cursor:pointer;transition:background 0.2s ease}
.upheader-actions{width:100%;gap:8px}
  .refresh-btn,.filter-toggle-btn{flex:1}
  .filters-panel{grid-template-columns:1fr;gap:12pxound:#fff8f0}
.upload-label{display:flex;flex-direction:column;align-items:center;gap:8px;cursor:pointer}
.upload-icon{font-size:40px}

.preview-container{text-align:center}
.image-preview{max-width:100%;max-height:300px;border-radius:8px;margin-bottom:16px}
.preview-actions{display:flex;gap:8px;margin-top:12px}
.preview-actions .btn{flex:1}

.close-btn{width:100%;margin-top:12px;background:#f0e6d2;color:var(--text);border:1px solid var(--border)}
.close-btn:hover{background:#e8dcc5}

/* Grid View Table */
.students-table-container{overflow-x:auto;background:var(--card);border-radius:12px;box-shadow:0 6px 16px rgba(61,45,12,0.08);border:1px solid var(--border)}
.students-table{width:100%;border-collapse:collapse;font-size:14px}
.students-table thead{background:#fffbf0;border-bottom:2px solid var(--border)}
.students-table th{text-align:left;padding:12px 16px;font-weight:600;color:var(--text);white-space:nowrap}
.students-table tbody tr{border-bottom:1px solid #f5f2eb;transition:background 0.15s ease}
.students-table tbody tr:hover{background:#fffbf0}
.students-table td{padding:12px 16px;vertical-align:middle}
.student-name-cell{font-weight:600;color:var(--text)}
.table-image-cell{display:flex;align-items:center;justify-content:center}
.table-student-image{width:48px;height:48px;border-radius:8px;object-fit:cover;border:1px solid var(--border)}
.table-image-placeholder{width:48px;height:48px;border-radius:8px;background:#f5f2eb;display:flex;align-items:center;justify-content:center;font-size:20px;border:1px solid var(--border)}
.table-instruments{display:flex;flex-wrap:wrap;gap:4px}
.instrument-tag{background:var(--accent);color:#2b1e0c;padding:3px 8px;border-radius:4px;font-size:12px;font-weight:600;white-space:nowrap}
.table-action-btn{background:var(--accent-strong);border:none;border-radius:6px;padding:6px 12px;font-size:16px;cursor:pointer;transition:transform 0.2s ease}
.table-action-btn:hover{transform:scale(1.1)}

/* Pagination */
.pagination{display:flex;align-items:center;justify-content:center;gap:8px;margin-top:24px;padding:16px 0}
.pagination-btn{background:var(--card);border:1px solid var(--border);border-radius:8px;padding:8px 12px;font-weight:600;cursor:pointer;color:var(--text);transition:all 0.2s ease;min-width:40px}
.pagination-btn:hover:not(:disabled){background:var(--accent);color:#1b1307;border-color:var(--accent)}
.pagination-btn:disabled{opacity:0.4;cursor:not-allowed}
.pagination-info{display:flex;align-items:center;gap:8px;margin:0 8px}
.page-select,.items-per-page-select{padding:8px 12px;border-radius:8px;border:1px solid var(--border);background:var(--card);font-size:14px;color:var(--text);font-weight:600;cursor:pointer}
.page-select:focus,.items-per-page-select:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 3px rgba(243,193,58,0.1)}
.pagination-text{font-weight:600;color:var(--muted);white-space:nowrap}

@media (max-width:420px){
  .container{padding:12px;margin:8px}
  .btn{padding:12px;font-size:16px}
  .students-grid{grid-template-columns:1fr}
  .students-header{flex-direction:column;align-items:stretch}
  .students-header h2{font-size:20px}
  .header-actions{flex-wrap:wrap}
  .view-toggle{order:-1;width:100%}
  .refresh-btn,.filter-toggle-btn{flex:1}
  .modal{width:95%;padding:16px}
  .pagination{flex-wrap:wrap;gap:6px}
  .pagination-btn{min-width:36px;padding:6px 10px}
  .pagination-info{width:100%;justify-content:center;order:-1;margin-bottom:8px}
}
